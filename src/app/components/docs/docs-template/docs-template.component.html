<div style="margin-bottom: 30px">
  <h1 style="margin-bottom: 15px">
    <div class="gradient-title">{{gradientTitle}}</div>
    <div *ngIf="whiteTitle" class="title">{{whiteTitle}}</div>
  </h1>
  <div *ngIf="textBelowTitle" class="text-below-title" [innerHtml]="textBelowTitle"></div>
</div>
<div class="section-wrapper">
  <div *ngIf="showTableOfContents" class="wrapper">
    <h2 class="index-title">
      <i class="index pi pi-list"></i> Table of Contents
    </h2>
    <ul>
      @for (step of steps; track $index; let index = $index) {
        <li>
          <a [routerLink]="[]" [fragment]="step.fragment">
            {{step.title}}
          </a>
        </li>
      }
    </ul>
  </div>
  <div *ngIf="sanitizedPreferWatchingInstedVideo" class="wrapper">
    <h2 class="index-title">
      <i class="index pi pi-youtube"></i> Prefer Watching Instead?
    </h2>
    <div class="text-below-subtitle">
      {{preferWatchingInstedText}}
    </div>
    <br/>
    <div class="example-wrapper" style="padding: 0px; width: 100%; height: fit-content;">
      <div class="video-wrapper">
        <div [innerHTML]="sanitizedPreferWatchingInstedVideo"></div>
      </div>
    </div>
  </div>
  @for (step of steps; track $index; let index = $index) {
  <div [id]="step.fragment">
    <div class="wrapper">
      <!-- Id is added for fragment navigation -->
      <h2 class="index-title" [id]="'step-' + (index + 1)">
        <span *ngIf="showOrderNumbers" class="index">{{ index + 1 }}.</span> {{ step.title }}
      </h2>

      <div class="description" [innerHTML]="step.description"></div>

      <div *ngIf="step.terminalMessages != null" style="width: 100%; height: fit-content">
        <app-terminal [messages]="step.terminalMessages"></app-terminal>
      </div>

      <div *ngIf="step.codeExample != null" class="code-snippet-wrapper example-wrapper">
        <div class="copy-button-wrapper">
          <app-copy-button
            (onClick)="copyToClipboard(step.codeExample)"
          ></app-copy-button>
        </div>
        <pre><code [highlightAuto]="step.codeExample">
        </code></pre>
      </div>

      <div *ngIf="step.description2" class="description" [innerHTML]="step.description2"></div>

      <div *ngIf="step.terminalMessages2 != null" style="width: 100%; height: fit-content">
        <app-terminal [messages]="step.terminalMessages2"></app-terminal>
      </div>

      <div *ngIf="step.codeExample2" class="code-snippet-wrapper example-wrapper">
        <div class="copy-button-wrapper">
          <app-copy-button
            (onClick)="copyToClipboard(step.codeExample2)"
          ></app-copy-button>
        </div>
        <pre><code [highlightAuto]="step.codeExample2">
        </code></pre>
      </div>

      <div *ngIf="step.description3" class="description" [innerHTML]="step.description3"></div>

      <div *ngIf="step.terminalMessages3 != null" style="width: 100%; height: fit-content">
        <app-terminal [messages]="step.terminalMessages3"></app-terminal>
      </div>

      <div *ngIf="step.codeExample3" class="code-snippet-wrapper example-wrapper">
        <div class="copy-button-wrapper">
          <app-copy-button
            (onClick)="copyToClipboard(step.codeExample3)"
          ></app-copy-button>
        </div>
        <pre><code [highlightAuto]="step.codeExample3">
        </code></pre>
      </div>

      <div *ngIf="step.video != null" style="width: 100%; height: fit-content;">
        <div class="example-wrapper" style="padding: 0px;">
          <div [innerHTML]="step.video"></div>
        </div>
      </div>

    </div>
  </div>
  }
</div>
