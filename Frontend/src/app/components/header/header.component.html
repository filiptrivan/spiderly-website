<div class="header-wrapper">
  <div class="header">
    <nav class="mobile-only" style="display: flex; align-items: center">
      @if(isSideMenuActive){
        <i (click)="toggleSideMenu()" style="font-size: 1.2rem;" class="icon-link pi pi-times"></i>
      } @else{
        <i (click)="toggleSideMenu()" style="font-size: 1.2rem;" class="icon-link pi pi-bars"></i>
      }
    </nav>

    <div (click)="isSideMenuActive = false" [routerLink]="['/']" class="header-logo">
      <img style="display: flex; justify-content: center;" width="45" height="45" src="assets/spiderly-logo.svg" alt="Spiderly Logo" title="Spiderly Logo"/>
      <span style="font-weight: 400">SPIDERLY</span>
    </div>

    <nav class="header-desktop desktop-only">
      <a [routerLink]="['/faq']" class="icon-link" title="Go to FAQ">FAQ</a>
      <a [routerLink]="['/docs/getting-started']" class="icon-link" title="Go to Docs">Docs</a>
      <a [routerLink]="['/pricing']" class="icon-link" title="Go to Pricing">Pricing</a>
    </nav>

    <ng-container *ngIf="isBrowser; else placeholder">
      <spiderly-profile-avatar 
      [menuItems]="profileDialogMenuItems"
      [routeOnLargeProfileAvatarClick]="false"
      [isSideMenuLayout]="false" 
      [routeToLoginPage]="false"
      [loginButtonOutlined]="true"
      loginButtonSeverity="secondary"
      loginButtonSize="small"
      (onLoginButtonClick)="openSignInDialog()"
      />
    </ng-container>

    <!-- Placeholder for SSR -->
    <ng-template #placeholder>
      <p-button 
      class="icon-link" 
      label="Sign In" 
      icon="pi pi-sign-in" 
      size="small" 
      [outlined]="true" 
      severity="secondary"
      ></p-button>
    </ng-template>

  </div>
</div>

<div
  class="side-menu mobile-only {{ isSideMenuActive ? 'side-menu-open' : '' }}"
>
  <a (click)="isSideMenuActive = false" [routerLink]="['/faq']" class="side-menu-link" title="Go to FAQ">FAQ</a>
  <a (click)="isSideMenuActive = false" [routerLink]="['/docs/getting-started']" class="side-menu-link" title="Go to Docs">Docs</a>
  <a (click)="isSideMenuActive = false" [routerLink]="['/pricing']" class="side-menu-link" title="Go to Pricing">Pricing</a>
</div>